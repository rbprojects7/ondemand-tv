(this["webpackJsonpondemand-tv"]=this["webpackJsonpondemand-tv"]||[]).push([[0],{49:function(e,n,t){e.exports=t(78)},78:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(23),o=t(10),i=t(3),u=t(22),s=t(41),l=t(42),m=t(6),d=t(17),p=t(30),E=t(9),f="/show/6771",b="/show/:showId/episodes/:season/:number",h="/show/:showId",v="375px",g="425px",O="768px",w="1024px",y="1440px",j="2560px",I={mobileS:"(min-width: ".concat("320px",")"),mobileM:"(min-width: ".concat(v,")"),mobileL:"(min-width: ".concat(g,")"),tablet:"(min-width: ".concat(O,")"),laptop:"(min-width: ".concat(w,")"),laptopL:"(min-width: ".concat(y,")"),desktop:"(min-width: ".concat(j,")"),desktopL:"(min-width: ".concat(j,")")},S="https://api.tvmaze.com",D={name:"Not Found",summary:"<p>We could not found a summary for this. <br /><b>Is it a new one?</b><br />Do not forget to notify TV Maze!</p>",image:{medium:"https://static.tvmaze.com/images/no-img/no-img-portrait-text.png",original:"https://static.tvmaze.com/images/no-img/no-img-portrait-text.png"}},x={name:"Loading...",summary:void 0,image:{}},T={name:void 0,description:void 0},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.a)({},T),n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case"@SHOW/FETCHED_DETAILS":case"@SHOW/DETAILS_FETCH_FAILED":return Object(E.a)({},e,{},r.data);default:return e}},L={episodes:void 0,fetchingEpisodes:!1,current:void 0},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.a)({},L),n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case"@EPISODE/FETCHED_DETAILS":case"@EPISODE/DETAILS_FETCH_FAILED":return Object(E.a)({},e,{episodes:r.data,fetchingEpisodes:!1});case"@EPISODE/FETCHING_DETAILS":return Object(E.a)({},e,{fetchingEpisodes:!0});case"@EPISODE/DETAILS_INFO_FETCHED":return Object(E.a)({},e,{currentEpisode:r});case"@EPISODE/DETAILS_INFO_FAILED":return Object(E.a)({},e,{error:r});default:return e}},A=Object(m.a)(),k=function(e){var n;return Object(d.createStore)((n=A,Object(d.combineReducers)({router:Object(u.b)(n),currentShow:F,episodes:_})),e,Object(s.composeWithDevTools)(Object(d.applyMiddleware)(Object(p.a)(A),l.a)))},C=function(){return a.a.createElement("div",null,"Bummer!! We could not find this page")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=t(19),N=Object(H.a)((function(e){return e&&e.name}),(function(e){return e})),P=Object(H.a)((function(e){return e&&e.summary}),(function(e){return e})),W=Object(H.a)((function(e){return e&&e.image}),(function(e){return{original:e&&e.original,medium:e&&e.medium}})),z=Object(H.a)((function(e){return e.currentEpisode}),(function(e){return{original:e&&e.image&&e.image.original||D.image.original,medium:e&&e.image&&e.image.medium||D.image.medium}})),B=Object(H.a)((function(e){return e.currentEpisode}),(function(e){return e?{name:e.name,summary:e.summary||D.summary,airdate:e.airdate}:null})),M=t(15),G=t.n(M),J=t(21),R=t.n(J),V=function(e,n){return n.id===e},$=function(e){return{type:"@SHOW/FETCHED_DETAILS",payload:{data:e}}},q=function(e){return function(n,t){var r,a,c,o;return G.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r=t())){i.next=5;break}if(!(a=r.currentShow)||!V(e,a)){i.next=5;break}return i.abrupt("return");case 5:return n($(x)),i.prev=6,i.next=9,G.a.awrap(R.a.get("".concat(S,"/shows/").concat(e)));case 9:return c=i.sent,o=c.data,i.abrupt("return",n($(o)));case 14:return i.prev=14,i.t0=i.catch(6),console.error(i.t0),i.abrupt("return",n({type:"@SHOW/DETAILS_FETCH_FAILED",payload:{data:D}}));case 18:case"end":return i.stop()}}),null,null,[[6,14]])}},K=t(11),Q=t(12);function U(){var e=Object(K.a)(["\nmax-width: 350px;\ndisplay: none;\n@media "," {\n    display: block;\n}"]);return U=function(){return e},e}function X(){var e=Object(K.a)(["\nmax-height: 350px;\ndisplay: block;\n@media "," {\n    display: none;\n}"]);return X=function(){return e},e}function Y(){var e=Object(K.a)(["\n    display: block;\n    font-size: 1rem;\n    @media "," {\n        font-size: 1.5rem;\n        display: flex;\n    }\n"]);return Y=function(){return e},e}function Z(){var e=Object(K.a)(["\n    color: #3C948B;\n    text-align: center;\n"]);return Z=function(){return e},e}function ee(){var e=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    max-width: ",";\n    margin: 0 auto;\n"]);return ee=function(){return e},e}var ne=Q.b.div(ee(),w),te=Q.b.h2(Z()),re=Q.b.div(Y(),I.tablet),ae=Q.b.img(X(),I.tablet),ce=Q.b.img(U(),I.tablet);function oe(){var e=Object(K.a)(["\n  display: grid;\n  grid-template-columns: repeat(\n    ",",\n    1fr\n  );\n"]);return oe=function(){return e},e}function ie(){var e=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 0.5rem;\n"]);return ie=function(){return e},e}var ue=Q.b.div(ie()),se=Q.b.div(oe(),(function(e){var n=e.numberOfColumns;return void 0===n?2:n})),le=function(e){var n=e.name,t=e.summary,c=e.medium,o=e.original;return a.a.createElement(r.Fragment,null,a.a.createElement(ne,null,a.a.createElement(te,null,n),a.a.createElement(se,{numberOfColumns:2},a.a.createElement(ue,null,a.a.createElement(ae,{src:c}),a.a.createElement(ce,{src:o})),a.a.createElement(ue,null,a.a.createElement(re,{dangerouslySetInnerHTML:{__html:t}})))))};function me(){var e=Object(K.a)(["\n  a {\n    color: #3C948B;\n    cursor: pointer;\n  }\n  table {\n  width: 100%;\n  border-collapse: collapse;\n  h2 {\n    width: 100%;\n  }\n  th,\n  td {\n    border-collapse: collapse;\n  }\n  th,\n  td,\n  tr {\n    padding: 5px;\n  }\n  th, td {\n    text-align: center;\n    border: 1px solid #ddd;\n    padding: 8px;  \n  }\n  th {\n    background: #3C948B;\n    color: #fff;\n  }\n  tr:nth-child(even) {\n    background-color:rgb(241, 241, 241);\n  }\n  tr:hover {\n    background-color: #ddd;\n  }\n  td:first-child {\n    width: 10%;\n  }\n  td:nth-child(2) {\n    width: 20%;\n  }\n  }\n"]);return me=function(){return e},e}var de=Object(Q.a)(me()),pe=t(16),Ee=t(47),fe=function(e){var n=e.episodes,t=e.showId;return a.a.createElement(ne,null,n&&!Object(pe.isEmpty)(n)&&a.a.createElement(te,null,"Season ",n[0].season),a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",{className:"hidden"},a.a.createElement("th",null,"Number"),a.a.createElement("th",null,"Date"),a.a.createElement("th",null,"Name")),Object(pe.map)(n,(function(e){return a.a.createElement("tr",{key:e.id},e.number&&a.a.createElement("td",null,e.number),e.airdate&&a.a.createElement("td",null,e.airdate),e.name&&a.a.createElement("td",null,a.a.createElement(Ee.a,{to:"/show/".concat(t,"/episodes/").concat(e.season,"/").concat(e.number)},e.name)))})))))},be=function(e){return{type:"@EPISODE/FETCHED_DETAILS",payload:{data:e}}},he=Object(o.c)((function(e){return{episodes:e.episodes}}),(function(e){return{getEpisodes:function(n){return e((t=n,function(e){var n,r;return G.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:"@EPISODE/FETCHING_DETAILS"}),a.prev=1,a.next=4,G.a.awrap(R.a.get("".concat(S,"/shows/").concat(t,"/episodes")));case 4:return n=a.sent,r=n.data,a.abrupt("return",e(be(r)));case 9:return a.prev=9,a.t0=a.catch(1),console.error(a.t0),a.abrupt("return",e({type:"@EPISODE/DETAILS_FETCH_FAILED",payload:{data:D}}));case 13:case"end":return a.stop()}}),null,null,[[1,9]])}));var t}}}))(Object(r.memo)((function(e){var n=e.showId,t=e.getEpisodes,c=e.episodes;return Object(r.useEffect)((function(){n&&t(n)}),[n,t]),a.a.createElement(r.Fragment,null,c&&c.episodes&&!c.fetchingEpisodes&&Object(pe.map)(Object(pe.values)(function(e){return Object(pe.reverse)(Object(pe.values)(e.reduce((function(e,n){return e[n.season]||(e[n.season]=[]),e[n.season].push(n),e}),{})))}(c.episodes)),(function(e,t){return a.a.createElement(fe,{showId:n,key:t,episodes:e})})))}))),ve=Object(o.c)((function(e){var n=e.currentShow;return{name:N(n),summary:P(n),covers:W(n)}}),(function(e){return{getShowDetails:function(n){return e(q(n))}}}))(Object(r.memo)((function(e){var n=e.covers,t=e.summary,c=e.getShowDetails,o=e.match,i=e.name,u=o&&o.params&&o.params.showId;return Object(r.useEffect)((function(){c&&c(u)}),[c,u]),a.a.createElement(r.Fragment,null,a.a.createElement(de,null),a.a.createElement(le,Object.assign({name:i,summary:t},n)),a.a.createElement(he,{showId:u}))}))),ge=function(e,n,t){var r=e&&e.episodes,a=r&&r.episodes;return Array.isArray(a)?a.find((function(e){return e.season===n+1&&e.number===t+1})):null},Oe=function(e){return{type:"@EPISODE/DETAILS_INFO_FETCHED",payload:e}},we=Object(o.c)((function(e){var n=e.episodes,t=e.currentShow;return Object(E.a)({},B(n),{covers:z(n),showName:N(t)})}),(function(e){return{getSeasonEpisode:function(n,t,r){return e(function(e,n,t){return function(r,a){var c,o,i,u;return G.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(c=a(),!(o=ge(c,n,t))){s.next=5;break}return r(Oe(o)),s.abrupt("return");case 5:return s.prev=5,s.next=8,G.a.awrap(R.a.get("".concat(S,"/shows/").concat(e,"/episodebynumber?season=").concat(n,"&number=").concat(t)));case 8:return i=s.sent,u=i.data,s.abrupt("return",r(Oe(u)));case 13:s.prev=13,s.t0=s.catch(5),console.error(s.t0),r({type:"@EPISODE/DETAILS_INFO_FAILED",payload:{data:""}});case 17:case"end":return s.stop()}}),null,null,[[5,13]])}}(n,t,r))},getShow:function(n){return e(q(n))}}}))(Object(r.memo)((function(e){var n=e.name,t=void 0===n?D.name:n,c=e.summary,o=e.showName,i=e.match,u=e.covers,s=void 0===u?D.image:u,l=e.getSeasonEpisode,m=e.getShow;return Object(r.useEffect)((function(){var e=i&&i.params||{},n=e.showId,t=e.season,r=e.number;n&&t&&r&&(l(n,t,r),m(n))}),[i]),a.a.createElement(r.Fragment,null,a.a.createElement(le,Object.assign({name:"".concat(t," - ").concat(o),summary:c},s)))})));"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}));var ye=k({currentShow:{}});Object(c.render)(a.a.createElement(o.a,{store:ye},a.a.createElement(u.a,{history:A},a.a.createElement(a.a.Fragment,null,a.a.createElement(i.d,null,a.a.createElement(i.a,{path:"/",exact:!0,to:f}),a.a.createElement(i.b,{exact:!0,path:h,render:function(e){var n=e.match;return a.a.createElement(ve,{match:n})}}),a.a.createElement(i.b,{exact:!0,path:b,render:function(e){var n=e.match;return a.a.createElement(we,{match:n})}}),a.a.createElement(i.b,{render:function(){return a.a.createElement(C,null)}}))))),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.635940a3.chunk.js.map